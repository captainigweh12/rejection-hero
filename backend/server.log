+ exec gosu vibecode scripts/start --hot
Installing dependencies and generating Prisma client...
[0.05ms] ".env"
bun install v1.2.19 (aad3abea)

$ prisma generate
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

âœ” Generated Prisma Client (v6.17.1) to ./generated/prisma in 353ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints


Checked 778 installs across 720 packages (no changes) [1.86s]
Starting server in dev mode with hot reload...
$ NODE_ENV=development bun run --hot src/index.ts
Failed to find Response internal state key
âœ… Environment variables validated successfully
ğŸ” OPENAI_API_KEY from process.env: EXISTS
ğŸ” OPENAI_API_KEY in parsed: EXISTS
ğŸ” [Auth] Initializing Better Auth...
âœ… [Auth] Google OAuth credentials configured
ğŸ”‘ [Auth] Google Client ID: 94427138884-cc2db90q...
âœ… [Auth] Better Auth initialized
ğŸ”— [Auth] Base URL: https://preview-cqrfqnxgqjum.share.sandbox.dev
ğŸŒ [Auth] Trusted origins: vibecode://, http://localhost:3000, http://localhost:8081, https://preview-cqrfqnxgqjum.share.sandbox.dev
ğŸ”‘ [Auth] Google OAuth: Enabled âœ…
ğŸ” [Auth] Session expires in: 7 days
ğŸ“ [Upload] Uploads directory exists: /home/user/workspace/backend/uploads
ğŸ“œ [Policies] Router initialized. __dirname: /home/user/workspace/backend/src/routes
ğŸ”§ Initializing Hono application...
ğŸ” Mounting custom password reset routes at /api/auth
ğŸ” Mounting Better Auth handler at /api/auth/*
ğŸ“ Serving static files from uploads/ directory
ğŸ“¤ Mounting upload routes at /api/upload
ğŸ“ Mounting sample routes at /api/sample
ğŸ‘¤ Mounting profile routes at /api/profile
ğŸ” Mounting discover routes at /api/discover
ğŸ‘† Mounting swipe routes at /api/swipe
ğŸ’• Mounting matches routes at /api/matches
ğŸ¯ Mounting quests routes at /api/quests
ğŸ† Mounting challenges routes at /api/challenges
ğŸ“Š Mounting stats routes at /api/stats
ğŸ“¹ Mounting live routes at /api/live
ğŸ‘¥ Mounting friends routes at /api/friends
ğŸ’¬ Mounting messages routes at /api/messages
ğŸ˜ï¸  Mounting groups routes at /api/groups
ğŸ¯ Mounting group quests routes at /api/group-quests
ğŸ“¹ Mounting group live routes at /api/group-live
ğŸ Mounting shared quests routes at /api/shared-quests
ğŸ““ Mounting journal routes at /api/journal
ğŸ“ Mounting posts routes at /api/posts
â° Mounting moments routes at /api/moments
ğŸ”” Mounting notifications routes at /api/notifications
ğŸ“§ Mounting GoHighLevel routes at /api/gohighlevel
ğŸ« Mounting support routes at /api/support
ğŸ“ Mounting categories routes at /api/categories
ğŸ¤ Mounting audio routes at /api/audio
ğŸ’³ Mounting payments routes at /api/payments
ğŸ’³ Mounting payment redirect routes at root level
ğŸ“œ Mounting policies routes at /api/policies
ğŸ‘‘ Mounting admin routes at /api/admin
ğŸ› Mounting bug report routes at /api/bug-reports
ğŸŒ Mounting web redirect routes
âš™ï¸  Starting server...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Environment: development
ğŸš€ Server is running on port 3000
ğŸ”— Base URL: http://localhost:3000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š Available endpoints:
  ğŸ” Auth:         /api/auth/*
  ğŸ“¤ Upload:       POST /api/upload/image
  ğŸ“ Sample:       GET/POST /api/sample
  ğŸ‘¤ Profile:      GET/POST /api/profile
  ğŸ” Discover:     GET /api/discover
  ğŸ‘† Swipe:        POST /api/swipe
  ğŸ’• Matches:      GET /api/matches
  ğŸ¯ Quests:       GET/POST /api/quests
  ğŸ† Challenges:   GET/POST /api/challenges
  ğŸ“Š Stats:        GET /api/stats
  ğŸ“¹ Live:        GET/POST /api/live
  ğŸ‘¥ Friends:      GET/POST /api/friends
  ğŸ’¬ Messages:     GET/POST /api/messages
  ğŸ˜ï¸  Groups:       GET/POST /api/groups
  ğŸ SharedQuests: GET/POST /api/shared-quests
  ğŸ““ Journal:      GET/POST /api/journal
  ğŸ”” Notifications: GET /api/notifications
  ğŸ’š Health:       GET /health

â° Challenge Scheduler: Active (Daily at 9 AM & 2 PM UTC)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 22ms
Failed to find Response internal state key
âœ… Environment variables validated successfully
ğŸ” OPENAI_API_KEY from process.env: EXISTS
ğŸ” OPENAI_API_KEY in parsed: EXISTS
ğŸ” [Auth] Initializing Better Auth...
âœ… [Auth] Google OAuth credentials configured
ğŸ”‘ [Auth] Google Client ID: 94427138884-cc2db90q...
âœ… [Auth] Better Auth initialized
ğŸ”— [Auth] Base URL: https://preview-cqrfqnxgqjum.share.sandbox.dev
ğŸŒ [Auth] Trusted origins: vibecode://, http://localhost:3000, http://localhost:8081, https://preview-cqrfqnxgqjum.share.sandbox.dev
ğŸ”‘ [Auth] Google OAuth: Enabled âœ…
ğŸ” [Auth] Session expires in: 7 days
ğŸ“ [Upload] Uploads directory exists: /home/user/workspace/backend/uploads
ğŸ“œ [Policies] Router initialized. __dirname: /home/user/workspace/backend/src/routes
ğŸ”§ Initializing Hono application...
ğŸ” Mounting custom password reset routes at /api/auth
ğŸ” Mounting Better Auth handler at /api/auth/*
ğŸ“ Serving static files from uploads/ directory
ğŸ“¤ Mounting upload routes at /api/upload
ğŸ“ Mounting sample routes at /api/sample
ğŸ‘¤ Mounting profile routes at /api/profile
ğŸ” Mounting discover routes at /api/discover
ğŸ‘† Mounting swipe routes at /api/swipe
ğŸ’• Mounting matches routes at /api/matches
ğŸ¯ Mounting quests routes at /api/quests
ğŸ† Mounting challenges routes at /api/challenges
ğŸ“Š Mounting stats routes at /api/stats
ğŸ“¹ Mounting live routes at /api/live
ğŸ‘¥ Mounting friends routes at /api/friends
ğŸ’¬ Mounting messages routes at /api/messages
ğŸ˜ï¸  Mounting groups routes at /api/groups
ğŸ¯ Mounting group quests routes at /api/group-quests
ğŸ“¹ Mounting group live routes at /api/group-live
ğŸ Mounting shared quests routes at /api/shared-quests
ğŸ““ Mounting journal routes at /api/journal
ğŸ“ Mounting posts routes at /api/posts
â° Mounting moments routes at /api/moments
ğŸ”” Mounting notifications routes at /api/notifications
ğŸ“§ Mounting GoHighLevel routes at /api/gohighlevel
ğŸ« Mounting support routes at /api/support
ğŸ“ Mounting categories routes at /api/categories
ğŸ¤ Mounting audio routes at /api/audio
ğŸ’³ Mounting payments routes at /api/payments
ğŸ’³ Mounting payment redirect routes at root level
ğŸ“œ Mounting policies routes at /api/policies
ğŸ‘‘ Mounting admin routes at /api/admin
ğŸ› Mounting bug report routes at /api/bug-reports
ğŸŒ Mounting web redirect routes
âš™ï¸  Starting server...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Environment: development
ğŸš€ Server is running on port 3000
ğŸ”— Base URL: http://localhost:3000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š Available endpoints:
  ğŸ” Auth:         /api/auth/*
  ğŸ“¤ Upload:       POST /api/upload/image
  ğŸ“ Sample:       GET/POST /api/sample
  ğŸ‘¤ Profile:      GET/POST /api/profile
  ğŸ” Discover:     GET /api/discover
  ğŸ‘† Swipe:        POST /api/swipe
  ğŸ’• Matches:      GET /api/matches
  ğŸ¯ Quests:       GET/POST /api/quests
  ğŸ† Challenges:   GET/POST /api/challenges
  ğŸ“Š Stats:        GET /api/stats
  ğŸ“¹ Live:        GET/POST /api/live
  ğŸ‘¥ Friends:      GET/POST /api/friends
  ğŸ’¬ Messages:     GET/POST /api/messages
  ğŸ˜ï¸  Groups:       GET/POST /api/groups
  ğŸ SharedQuests: GET/POST /api/shared-quests
  ğŸ““ Journal:      GET/POST /api/journal
  ğŸ”” Notifications: GET /api/notifications
  ğŸ’š Health:       GET /health

â° Challenge Scheduler: Active (Daily at 9 AM & 2 PM UTC)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<-- GET /api/auth/get-session
--> GET /api/auth/get-session [32m200[0m 6ms
<-- GET /api/profile
ğŸ” [Auth Middleware] GET /api/profile - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ‘¤ [Profile] GET request - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Profile] Fetching profile for user N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
âœ… [Profile] Successfully fetched profile for user N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/profile [32m200[0m 4ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
<-- GET /api/stats/weekly-forecast
<-- GET /api/stats/reflection-prompt
--> GET /api/challenges/active [32m200[0m 2ms
ğŸ” [Auth Middleware] GET /api/stats/weekly-forecast - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/stats/reflection-prompt - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/stats/reflection-prompt [32m200[0m 5ms
<-- GET /api/stats
<-- GET /api/quests
ğŸ” [Auth Middleware] GET /api/stats - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/quests - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/stats [32m200[0m 4ms
--> GET /api/quests [32m200[0m 4ms
--> GET /api/stats/weekly-forecast [32m200[0m 5s
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 4ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 2ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 3ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 3ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 2ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 2ms
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 2ms
<-- GET /api/auth/get-session
--> GET /api/auth/get-session [32m200[0m 2ms
<-- GET /api/stats
ğŸ” [Auth Middleware] GET /api/stats - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/stats [32m200[0m 3ms
<-- GET /api/stats/reflection-prompt
ğŸ” [Auth Middleware] GET /api/stats/reflection-prompt - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/stats/reflection-prompt [32m200[0m 0ms
<-- GET /api/challenges/active
<-- GET /api/stats/weekly-forecast
<-- GET /api/profile
<-- GET /api/quests
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/stats/weekly-forecast - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/profile - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ‘¤ [Profile] GET request - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Profile] Fetching profile for user N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/quests - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/challenges/active [32m200[0m 7ms
--> GET /api/quests [32m200[0m 7ms
âœ… [Profile] Successfully fetched profile for user N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/profile [32m200[0m 25ms
<-- GET /api/payments/subscription
ğŸ” [Auth Middleware] GET /api/payments/subscription - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/payments/subscription [32m200[0m 1ms
--> GET /api/stats/weekly-forecast [32m200[0m 7s
<-- GET /api/friends
ğŸ” [Auth Middleware] GET /api/friends - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/friends [32m200[0m 2ms
<-- POST /api/shared-quests/create-custom
ğŸ” [Auth Middleware] POST /api/shared-quests/create-custom - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ›¡ï¸ Running AI safety check on quest description...
âœ… Quest passed safety check
ğŸ¤– Running AI fine-tuning to optimize quest...
âœ… AI fine-tuning completed: {
  description: "Practice your social interaction skills by saying hi to 5 different people throughout your day. Embrace any rejections you may face as a step towards building your confidence and overcoming your fear of rejection.",
  category: "SOCIAL",
  goalType: "COLLECT_NOS",
  goalCount: 5,
  difficulty: "MEDIUM",
  location: null,
}
19 | `)}
20 | 
21 | We suggest to move the contents of ${Y(l)} to ${Y(a)} to consolidate your env vars.
22 | `;throw new Error(u)}else if(t==="warn"){let u=`Conflict for env var${s.length>1?"s":""} ${s.map(c=>W(c)).join(", ")} in ${Y(a)} and ${Y(l)}
23 | Env vars from ${Y(l)} overwrite the ones from ${Y(a)}
24 |       `;console.warn(`${Ie("warn(prisma)")} ${u}`)}}}}function Is(e){if(yp(e)){$i(`Environment variables loaded from ${e}`);let r=qi.default.config({path:e,debug:process.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:Cs(r),message:Ce(`Environment variables loaded from ${xr.default.relative(process.cwd(),e)}`),path:e}}else $i(`Environment variables not found at ${e}`);return null}function Ds(e,r){return e&&r&&xr.default.resolve(e)===xr.default.resolve(r)}function yp(e){return!!(e&&un.default.existsSync(e))}function Vi(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function pn(e,r){let t={};for(let n of Object.keys(e))t[n]=r(e[n],n);return t}function ji(e,r){if(e.length===0)return;let t=e[0];for(let n=1;n<e.length;n++)r(t,e[n])<0&&(t=e[n]);return t}function x(e,r){Object.defineProperty(e,"name",{value:r,configurable:!0})}var ks=new Set,at=(e,r,...t)=>{ks.has(e)||(ks.add(e),_i(r,...t))};var P=class e extends Error{clientVersion;errorCode;retryable;constructor(r,t,n){super(r),this.name="PrismaClie

PrismaClientValidationError: 
Invalid `db.userQuest.create()` invocation in
/home/user/workspace/backend/src/routes/sharedQuests.ts:761:42

  758 // For shared quests: deduct tokens, create SharedQuest records, and send notifications
  759 if (isPersonalQuest) {
  760   // Create a UserQuest for the user (personal quest)
â†’ 761   const userQuest = await db.userQuest.create({
          data: {
            userId: "N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI",
            questId: "cmi69jvw70000m20iis98ng6m",
            status: "active",
            progress: 0,
            ~~~~~~~~
            yesCount: 0,
            noCount: 0,
        ?   id?: String,
        ?   actionCount?: Int,
        ?   startedAt?: DateTime | Null,
        ?   completedAt?: DateTime | Null,
        ?   createdAt?: DateTime,
        ?   updatedAt?: DateTime,
        ?   isFromFriend?: Boolean,
        ?   sharedById?: String | Null,
        ?   seriesId?: String | Null,
        ?   seriesIndex?: Int | Null,
        ?   isSeriesQuest?: Boolean,
        ?   LiveStreams?: LiveStreamUncheckedCreateNestedManyWithoutUserQuestInput,
        ?   ChallengeDailyQuests?: ChallengeDailyQuestUncheckedCreateNestedManyWithoutUserQuestInput
          }
        })

Unknown argument `progress`. Available options are marked with ?.
 clientVersion: "6.17.1",

      at new PrismaClientValidationError (/home/user/workspace/backend/generated/prisma/runtime/library.js:24:2335)
      at Nn (/home/user/workspace/backend/generated/prisma/runtime/library.js:32:1363)
      at handleRequestError (/home/user/workspace/backend/generated/prisma/runtime/library.js:124:6911)
      at handleAndLogRequestError (/home/user/workspace/backend/generated/prisma/runtime/library.js:124:6593)
      at request (/home/user/workspace/backend/generated/prisma/runtime/library.js:124:6300)

--> POST /api/shared-quests/create-custom [31m500[0m 4s
<-- POST /api/shared-quests/create-custom
ğŸ” [Auth Middleware] POST /api/shared-quests/create-custom - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ›¡ï¸ Running AI safety check on quest description...
âœ… Quest passed safety check
ğŸ¤– Running AI fine-tuning to optimize quest...
âœ… AI fine-tuning completed: {
  description: "Practice your social skills by saying hi to 5 different people today. Each interaction will help you build confidence and learn to embrace the possibility of rejection. Track your experiences and reflect on how each conversation made you feel.",
  category: "SOCIAL",
  goalType: "COLLECT_NOS",
  goalCount: 5,
  difficulty: "MEDIUM",
  location: null,
}
19 | `)}
20 | 
21 | We suggest to move the contents of ${Y(l)} to ${Y(a)} to consolidate your env vars.
22 | `;throw new Error(u)}else if(t==="warn"){let u=`Conflict for env var${s.length>1?"s":""} ${s.map(c=>W(c)).join(", ")} in ${Y(a)} and ${Y(l)}
23 | Env vars from ${Y(l)} overwrite the ones from ${Y(a)}
24 |       `;console.warn(`${Ie("warn(prisma)")} ${u}`)}}}}function Is(e){if(yp(e)){$i(`Environment variables loaded from ${e}`);let r=qi.default.config({path:e,debug:process.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:Cs(r),message:Ce(`Environment variables loaded from ${xr.default.relative(process.cwd(),e)}`),path:e}}else $i(`Environment variables not found at ${e}`);return null}function Ds(e,r){return e&&r&&xr.default.resolve(e)===xr.default.resolve(r)}function yp(e){return!!(e&&un.default.existsSync(e))}function Vi(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function pn(e,r){let t={};for(let n of Object.keys(e))t[n]=r(e[n],n);return t}function ji(e,r){if(e.length===0)return;let t=e[0];for(let n=1;n<e.length;n++)r(t,e[n])<0&&(t=e[n]);return t}function x(e,r){Object.defineProperty(e,"name",{value:r,configurable:!0})}var ks=new Set,at=(e,r,...t)=>{ks.has(e)||(ks.add(e),_i(r,...t))};var P=class e extends Error{clientVersion;errorCode;retryable;constructor(r,t,n){super(r),this.name="PrismaClie

PrismaClientValidationError: 
Invalid `db.userQuest.create()` invocation in
/home/user/workspace/backend/src/routes/sharedQuests.ts:761:42

  758 // For shared quests: deduct tokens, create SharedQuest records, and send notifications
  759 if (isPersonalQuest) {
  760   // Create a UserQuest for the user (personal quest)
â†’ 761   const userQuest = await db.userQuest.create({
          data: {
            userId: "N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI",
            questId: "cmi69k1hl0003m20iebogg0b2",
            status: "active",
            progress: 0,
            ~~~~~~~~
            yesCount: 0,
            noCount: 0,
        ?   id?: String,
        ?   actionCount?: Int,
        ?   startedAt?: DateTime | Null,
        ?   completedAt?: DateTime | Null,
        ?   createdAt?: DateTime,
        ?   updatedAt?: DateTime,
        ?   isFromFriend?: Boolean,
        ?   sharedById?: String | Null,
        ?   seriesId?: String | Null,
        ?   seriesIndex?: Int | Null,
        ?   isSeriesQuest?: Boolean,
        ?   LiveStreams?: LiveStreamUncheckedCreateNestedManyWithoutUserQuestInput,
        ?   ChallengeDailyQuests?: ChallengeDailyQuestUncheckedCreateNestedManyWithoutUserQuestInput
          }
        })

Unknown argument `progress`. Available options are marked with ?.
 clientVersion: "6.17.1",

      at new PrismaClientValidationError (/home/user/workspace/backend/generated/prisma/runtime/library.js:24:2335)
      at Nn (/home/user/workspace/backend/generated/prisma/runtime/library.js:32:1363)
      at handleRequestError (/home/user/workspace/backend/generated/prisma/runtime/library.js:124:6911)
      at handleAndLogRequestError (/home/user/workspace/backend/generated/prisma/runtime/library.js:124:6593)
      at request (/home/user/workspace/backend/generated/prisma/runtime/library.js:124:6300)

--> POST /api/shared-quests/create-custom [31m500[0m 6s
<-- GET /api/auth/get-session
--> GET /api/auth/get-session [32m200[0m 2ms
<-- GET /api/quests
ğŸ” [Auth Middleware] GET /api/quests - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/quests [32m200[0m 2ms
<-- GET /api/profile
<-- GET /api/stats/reflection-prompt
<-- GET /api/stats
<-- GET /api/stats/weekly-forecast
<-- GET /api/challenges/active
ğŸ” [Auth Middleware] GET /api/profile - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ‘¤ [Profile] GET request - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Profile] Fetching profile for user N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/stats/reflection-prompt - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/stats/reflection-prompt [32m200[0m 5ms
ğŸ” [Auth Middleware] GET /api/stats - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/stats/weekly-forecast - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
ğŸ” [Auth Middleware] GET /api/challenges/active - User: N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/stats [32m200[0m 7ms
--> GET /api/challenges/active [32m200[0m 9ms
âœ… [Profile] Successfully fetched profile for user N5NulzjY19FsKFD7MPoxCdqV0J1HgDgI
--> GET /api/profile [32m200[0m 12ms
--> GET /api/stats/weekly-forecast [32m200[0m 5s
Failed to find Response internal state key
âœ… Environment variables validated successfully
ğŸ” OPENAI_API_KEY from process.env: EXISTS
ğŸ” OPENAI_API_KEY in parsed: EXISTS
ğŸ” [Auth] Initializing Better Auth...
âœ… [Auth] Google OAuth credentials configured
ğŸ”‘ [Auth] Google Client ID: 94427138884-cc2db90q...
âœ… [Auth] Better Auth initialized
ğŸ”— [Auth] Base URL: https://preview-cqrfqnxgqjum.share.sandbox.dev
ğŸŒ [Auth] Trusted origins: vibecode://, http://localhost:3000, http://localhost:8081, https://preview-cqrfqnxgqjum.share.sandbox.dev
ğŸ”‘ [Auth] Google OAuth: Enabled âœ…
ğŸ” [Auth] Session expires in: 7 days
ğŸ“ [Upload] Uploads directory exists: /home/user/workspace/backend/uploads
ğŸ“œ [Policies] Router initialized. __dirname: /home/user/workspace/backend/src/routes
ğŸ”§ Initializing Hono application...
ğŸ” Mounting custom password reset routes at /api/auth
ğŸ” Mounting Better Auth handler at /api/auth/*
ğŸ“ Serving static files from uploads/ directory
ğŸ“¤ Mounting upload routes at /api/upload
ğŸ“ Mounting sample routes at /api/sample
ğŸ‘¤ Mounting profile routes at /api/profile
ğŸ” Mounting discover routes at /api/discover
ğŸ‘† Mounting swipe routes at /api/swipe
ğŸ’• Mounting matches routes at /api/matches
ğŸ¯ Mounting quests routes at /api/quests
ğŸ† Mounting challenges routes at /api/challenges
ğŸ“Š Mounting stats routes at /api/stats
ğŸ“¹ Mounting live routes at /api/live
ğŸ‘¥ Mounting friends routes at /api/friends
ğŸ’¬ Mounting messages routes at /api/messages
ğŸ˜ï¸  Mounting groups routes at /api/groups
ğŸ¯ Mounting group quests routes at /api/group-quests
ğŸ“¹ Mounting group live routes at /api/group-live
ğŸ Mounting shared quests routes at /api/shared-quests
ğŸ““ Mounting journal routes at /api/journal
ğŸ“ Mounting posts routes at /api/posts
â° Mounting moments routes at /api/moments
ğŸ”” Mounting notifications routes at /api/notifications
ğŸ“§ Mounting GoHighLevel routes at /api/gohighlevel
ğŸ« Mounting support routes at /api/support
ğŸ“ Mounting categories routes at /api/categories
ğŸ¤ Mounting audio routes at /api/audio
ğŸ’³ Mounting payments routes at /api/payments
ğŸ’³ Mounting payment redirect routes at root level
ğŸ“œ Mounting policies routes at /api/policies
ğŸ‘‘ Mounting admin routes at /api/admin
ğŸ› Mounting bug report routes at /api/bug-reports
ğŸŒ Mounting web redirect routes
âš™ï¸  Starting server...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Environment: development
ğŸš€ Server is running on port 3000
ğŸ”— Base URL: http://localhost:3000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š Available endpoints:
  ğŸ” Auth:         /api/auth/*
  ğŸ“¤ Upload:       POST /api/upload/image
  ğŸ“ Sample:       GET/POST /api/sample
  ğŸ‘¤ Profile:      GET/POST /api/profile
  ğŸ” Discover:     GET /api/discover
  ğŸ‘† Swipe:        POST /api/swipe
  ğŸ’• Matches:      GET /api/matches
  ğŸ¯ Quests:       GET/POST /api/quests
  ğŸ† Challenges:   GET/POST /api/challenges
  ğŸ“Š Stats:        GET /api/stats
  ğŸ“¹ Live:        GET/POST /api/live
  ğŸ‘¥ Friends:      GET/POST /api/friends
  ğŸ’¬ Messages:     GET/POST /api/messages
  ğŸ˜ï¸  Groups:       GET/POST /api/groups
  ğŸ SharedQuests: GET/POST /api/shared-quests
  ğŸ““ Journal:      GET/POST /api/journal
  ğŸ”” Notifications: GET /api/notifications
  ğŸ’š Health:       GET /health

â° Challenge Scheduler: Active (Daily at 9 AM & 2 PM UTC)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

